{"version":3,"sources":["webpack:///src/views/system/config.vue","webpack:///./src/views/system/config.vue?cdb3","webpack:///./src/views/system/config.vue"],"names":["config","status","fetchData","computed","extends_default","Object","vuex_esm","_this","this","dataList","currentPage","pageSize","totalPage","value","v","originalValue","_this2","val","system_config","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","expression","modifiers","body","attrs","data","list","element-loading-text","border","fit","highlight-current-row","align","label","width","scopedSlots","_u","key","fn","scope","_v","_s","$index","row","code","size","model","callback","$$v","$set","icon","type","on","click","$event","cancelEdit","description","class-name","_f","valueType","prop","createTime","confirmEdit","menus","indexOf","edit","current-page","page-sizes","page-size","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.242d90326b697e24a5aa.js","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n      <el-table :data=\"list\" v-loading.body=\"listLoading\" element-loading-text=\"Loading\" border fit highlight-current-row>\r\n      <el-table-column align=\"center\" label=\"序号\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n              {{scope.$index+1}}\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"配置名称\" width=\"300\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n              {{scope.row.name}}\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"配置标识\" width=\"300\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n             <span> {{scope.row.code}}</span>\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"配置值\" width=\"300\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <template v-if=\"scope.row.edit\">\r\n              <el-input class=\"edit-input\" size=\"small\" v-model=\"scope.row.value\"></el-input>\r\n              <el-button class=\"cancel-btn\" size=\"small\" icon=\"el-icon-refresh\" type=\"warning\" @click=\"cancelEdit(scope.row)\">取消</el-button>\r\n            </template>\r\n            <span v-else> {{scope.row.value}}</span>\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"配置描述\"  align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n              {{scope.row.description}}\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"类型\" width=\"100\" align=\"center\" class-name=\"status-col\">\r\n          <template slot-scope=\"scope\">\r\n             <el-tag :type=\"scope.row.valueType | statusFilter\">{{scope.row.valueType | valueTypeFilter}}</el-tag>\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建时间\" width=\"200\" prop=\"created_at\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n              <i class=\"el-icon-time\"></i>\r\n              <span>{{scope.row.createTime}}</span>\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-if=\"scope.row.edit\" type=\"success\" @click=\"confirmEdit(scope.row)\" size=\"small\" icon=\"el-icon-circle-check-outline\">提交</el-button>\r\n            <el-button v-else type=\"primary\" @click='scope.row.edit=!scope.row.edit' size=\"small\" icon=\"el-icon-edit\" v-show=\"menus.indexOf('system.config.modify')!==-1\">编辑</el-button>\r\n          </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <template>\r\n    <div class=\"block page-container\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"totalPage\">\r\n        </el-pagination>\r\n      </div>\r\n  </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getConfigPageList, modifyConfig } from '@/api/system'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'config',\r\n  data() {\r\n    return {\r\n      list: null,\r\n      listLoading: true,\r\n      currentPage: 1,\r\n      pageSize: 20,\r\n      totalPage: 0\r\n    }\r\n  },\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusMap = {\r\n        1: 'success',\r\n        2: 'gray',\r\n        3: 'danger'\r\n      }\r\n      return statusMap[status]\r\n    },\r\n    valueTypeFilter(status) {\r\n      const valueTypeMap = {\r\n        1: '文字',\r\n        2: '数字'\r\n      }\r\n      return valueTypeMap[status]\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  computed: {\r\n    ...mapGetters(['menus'])\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.listLoading = true\r\n      getConfigPageList(this.currentPage, this.pageSize).then(reponse => {\r\n        const items = reponse.dataList\r\n        this.currentPage = reponse.currentPage\r\n        this.pageSize = reponse.pageSize\r\n        this.totalPage = reponse.totalPage\r\n        this.listLoading = false\r\n        this.list = items.map(v => {\r\n          this.$set(v, 'edit', false)\r\n          v.originalValue = v.value\r\n          return v\r\n        })\r\n      })\r\n    },\r\n    cancelEdit(row) {\r\n      row.value = row.originalValue\r\n      row.edit = false\r\n      this.$message({\r\n        message: '取消修改',\r\n        type: 'warning'\r\n      })\r\n    },\r\n    confirmEdit(row) {\r\n      row.edit = false\r\n      row.originalValue = row.value\r\n      modifyConfig(row).then(reponse => {\r\n        this.$message({\r\n          message: '修改成功',\r\n          type: 'success'\r\n        })\r\n      })\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.fetchData()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.fetchData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.edit-input {\r\n  padding-right: 100px;\r\n}\r\n.cancel-btn {\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 10px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/system/config.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"序号\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.$index+1)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"配置名称\",\"width\":\"300\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.name)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"配置标识\",\"width\":\"300\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\" \"+_vm._s(scope.row.code))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"配置值\",\"width\":\"300\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?[_c('el-input',{staticClass:\"edit-input\",attrs:{\"size\":\"small\"},model:{value:(scope.row.value),callback:function ($$v) {_vm.$set(scope.row, \"value\", $$v)},expression:\"scope.row.value\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"cancel-btn\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-refresh\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.cancelEdit(scope.row)}}},[_vm._v(\"取消\")])]:_c('span',[_vm._v(\" \"+_vm._s(scope.row.value))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"配置描述\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.description)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"类型\",\"width\":\"100\",\"align\":\"center\",\"class-name\":\"status-col\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(scope.row.valueType)}},[_vm._v(_vm._s(_vm._f(\"valueTypeFilter\")(scope.row.valueType)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"200\",\"prop\":\"created_at\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(scope.row.createTime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.edit)?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\",\"icon\":\"el-icon-circle-check-outline\"},on:{\"click\":function($event){_vm.confirmEdit(scope.row)}}},[_vm._v(\"提交\")]):_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menus.indexOf('system.config.modify')!==-1),expression:\"menus.indexOf('system.config.modify')!==-1\"}],attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){scope.row.edit=!scope.row.edit}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),[_c('div',{staticClass:\"block page-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalPage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46ac8dee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/system/config.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46ac8dee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./config.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./config.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46ac8dee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./config.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-46ac8dee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/config.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}