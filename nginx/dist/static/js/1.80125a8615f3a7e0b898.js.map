{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/concat.js","webpack:///./src/components/TreeTable/eval.js","webpack:///src/components/TreeTable/index.vue","webpack:///./src/components/TreeTable/index.vue?0e15","webpack:///./src/components/TreeTable/index.vue","webpack:///src/views/account/menu.vue","webpack:///./src/views/account/menu.vue?d700","webpack:///./src/views/account/menu.vue","webpack:///./node_modules/babel-runtime/core-js/array/concat.js"],"names":["module","exports","Function","call","apply","Array","prototype","concat","arguments","treeToArray","data","expandAll","parent","length","undefined","level","tmp","from_default","forEach","record","_expanded","vue_esm","set","_level","push","children","TreeTable","Object","Boolean","evalArgs","concat_default","this","args","row","_show","show","trIndex","components_TreeTable","render","_vm","_h","$createElement","_c","_self","_b","attrs","formatData","row-style","showRow","$attrs","columns","width","align","scopedSlots","_u","key","fn","scope","_l","space","staticClass","_v","iconShow","on","click","$event","toggleExpanded","$index","_e","_s","column","index","value","label","text","operate","directives","name","rawName","expression","type","size","staticRenderFns","src_components_TreeTable","__webpack_require__","normalizeComponent","ssrContext","menu","treeTable","modify","callback","fetchData","computed","extends_default","vuex_esm","userMenus","_this","dataList","id","url","description","_this2","_this3","account_menu","menus","operateFunc","border","title","textMap","dialogStatus","visible","dialogFormVisible","center","update:visible","ref","staticStyle","margin-left","rules","model","temp","label-position","label-width","prop","$$v","$set","active-text","inactive-text","slot","savaAddMenu","saveModifyMenu","menu_Component","menu_normalizeComponent","__webpack_exports__","default","__esModule"],"mappings":"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","file":"static/js/1.80125a8615f3a7e0b898.js","sourcesContent":["// for a legacy code and future fixes\nmodule.exports = function () {\n  return Function.call.apply(Array.prototype.concat, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/concat.js\n// module id = E/TR\n// module chunks = 1","'use strict'\r\nimport Vue from 'vue'\r\nexport default function treeToArray(data, expandAll, parent = null, level = null) {\r\n  let tmp = []\r\n  Array.from(data).forEach(function(record) {\r\n    if (record._expanded === undefined) {\r\n      Vue.set(record, '_expanded', expandAll)\r\n    }\r\n    let _level = 1\r\n    if (level !== undefined && level !== null) {\r\n      _level = level + 1\r\n    }\r\n    Vue.set(record, '_level', _level)\r\n    // 如果有父元素\r\n    if (parent) {\r\n      Vue.set(record, 'parent', parent)\r\n    }\r\n    tmp.push(record)\r\n    if (record.children && record.children.length > 0) {\r\n      const children = treeToArray(record.children, expandAll, record, _level)\r\n      tmp = tmp.concat(children)\r\n    }\r\n  })\r\n  return tmp\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TreeTable/eval.js","<template>\r\n  <el-table :data='formatData' :row-style=\"showRow\" v-bind=\"$attrs\">\r\n      <el-table-column v-if=\"columns.length===0\" width=\"150\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n              <span v-for=\"space in scope.row._level\" class=\"ms-tree-space\" :key=\"space\"></span>\r\n              <span class=\"tree-ctrl\" v-if=\"iconShow(0,scope.row)\" @click=\"toggleExpanded(scope.$index)\">\r\n                  <i v-if=\"!scope.row._expanded\" class=\"el-icon-plus\"></i>\r\n                  <i v-else class=\"el-icon-caret-bottom\"></i>\r\n              </span>\r\n              {{scope.$index}}\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column v-else v-for=\"(column, index) in columns\" :key=\"column.value\" :label=\"column.text\" :width=\"column.width\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n              <span v-if=\"index === 0\" v-for=\"space in scope.row._level\" class=\"ms-tree-space\" :key=\"space\"></span>\r\n              <span class=\"tree-ctrl\" v-if=\"iconShow(index,scope.row)\" @click=\"toggleExpanded(scope.$index)\">\r\n                  <i v-if=\"!scope.row._expanded\" class=\"el-icon-caret-right\"></i>\r\n                  <i v-else class=\"el-icon-caret-bottom\"></i>\r\n              </span>\r\n              {{scope.row[column.value]}}\r\n              <el-button type=\"primary\" v-show=\"index === columns.length-1\" v-for=\"operate in operateFunc\" :key=\"operate.name\" \r\n              size=\"small\" @click=\"operate.operate(scope.row)\" >{{operate.name}}</el-button>\r\n          </template>\r\n      </el-table-column>\r\n  </el-table>\r\n</template>\r\n<script>\r\nimport treeToArray from './eval'\r\nexport default {\r\n  name: 'treeTable',\r\n  props: {\r\n    data: {\r\n      type: [Array, Object],\r\n      required: true\r\n    },\r\n    columns: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    evalFunc: Function,\r\n    operateFunc: {\r\n      type: [Array, Object]\r\n    },\r\n    evalArgs: Array,\r\n    expandAll: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    // 格式化数据源\r\n    formatData: function() {\r\n      let tmp\r\n      if (!Array.isArray(this.data)) {\r\n        tmp = [this.data]\r\n      } else {\r\n        tmp = this.data\r\n      }\r\n      const func = this.evalFunc || treeToArray\r\n      const args = this.evalArgs\r\n        ? Array.concat([tmp, this.expandAll], this.evalArgs)\r\n        : [tmp, this.expandAll]\r\n      return func.apply(null, args)\r\n    }\r\n  },\r\n  methods: {\r\n    showRow: function(row) {\r\n      const show = row.row.parent\r\n        ? row.row.parent._expanded && row.row.parent._show\r\n        : true\r\n      row.row._show = show\r\n      return show\r\n        ? 'animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;'\r\n        : 'display:none;'\r\n    },\r\n    // 切换下级是否展开\r\n    toggleExpanded: function(trIndex) {\r\n      const record = this.formatData[trIndex]\r\n      record._expanded = !record._expanded\r\n    },\r\n    // 图标显示\r\n    iconShow(index, record) {\r\n      return index === 0 && record.children && record.children.length > 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style rel=\"stylesheet/css\">\r\n@keyframes treeTableShow {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n@-webkit-keyframes treeTableShow {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n$color-blue: #2196f3;\r\n$space-width: 18px;\r\n.ms-tree-space {\r\n  position: relative;\r\n  top: 1px;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 1;\r\n  width: $space-width;\r\n  height: 14px;\r\n  &::before {\r\n    content: '';\r\n  }\r\n}\r\n.processContainer {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\ntable td {\r\n  line-height: 26px;\r\n}\r\n\r\n.tree-ctrl {\r\n  position: relative;\r\n  cursor: pointer;\r\n  color: $color-blue;\r\n  margin-left: -$space-width;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/TreeTable/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',_vm._b({attrs:{\"data\":_vm.formatData,\"row-style\":_vm.showRow}},'el-table',_vm.$attrs,false),[(_vm.columns.length===0)?_c('el-table-column',{attrs:{\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row._level),function(space){return _c('span',{key:space,staticClass:\"ms-tree-space\"})}),_vm._v(\" \"),(_vm.iconShow(0,scope.row))?_c('span',{staticClass:\"tree-ctrl\",on:{\"click\":function($event){_vm.toggleExpanded(scope.$index)}}},[(!scope.row._expanded)?_c('i',{staticClass:\"el-icon-plus\"}):_c('i',{staticClass:\"el-icon-caret-bottom\"})]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(scope.$index)+\"\\n        \")]}}])}):_vm._l((_vm.columns),function(column,index){return _c('el-table-column',{key:column.value,attrs:{\"label\":column.text,\"width\":column.width,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row._level),function(space){return (index === 0)?_c('span',{key:space,staticClass:\"ms-tree-space\"}):_vm._e()}),_vm._v(\" \"),(_vm.iconShow(index,scope.row))?_c('span',{staticClass:\"tree-ctrl\",on:{\"click\":function($event){_vm.toggleExpanded(scope.$index)}}},[(!scope.row._expanded)?_c('i',{staticClass:\"el-icon-caret-right\"}):_c('i',{staticClass:\"el-icon-caret-bottom\"})]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(scope.row[column.value])+\"\\n            \"),_vm._l((_vm.operateFunc),function(operate){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(index === _vm.columns.length-1),expression:\"index === columns.length-1\"}],key:operate.name,attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){operate.operate(scope.row)}}},[_vm._v(_vm._s(operate.name))])})]}}])})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b7897ae6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TreeTable/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b7897ae6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b7897ae6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b7897ae6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b7897ae6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TreeTable/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"app-container\">\r\n      <tree-table :data=\"menus\" :columns=\"columns\" :operateFunc=\"operateFunc\" border></tree-table>\r\n\r\n      <!-- 新建弹窗 -->\r\n      <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" center width=\"25%\">\r\n          <el-form :rules=\"rules\" ref=\"dataForm\" :model=\"temp\" label-position=\"left\" label-width=\"90px\" style='width:80%;margin-left:8%;'>\r\n              <el-form-item label=\"菜单名\" prop=\"name\">\r\n                  <el-input v-model=\"temp.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"菜单链接\">\r\n                  <el-input v-model=\"temp.url\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"菜单描述\">\r\n                  <el-input v-model=\"temp.description\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"菜单状态\">\r\n                 <el-switch v-model=\"temp.disable\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n              </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n              <el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"savaAddMenu()\">添加</el-button>\r\n              <el-button v-else type=\"primary\" @click=\"saveModifyMenu()\">更新</el-button>\r\n          </div>\r\n      </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport treeTable from '@/components/TreeTable'\r\nimport { getMenuList, modifyMenu } from '@/api/account'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'treeTableDemo',\r\n  components: { treeTable },\r\n  data() {\r\n    const isValidateName = (rule, value, callback) => {\r\n      if (value === undefined || value.length < 0) {\r\n        callback(new Error('菜单名不能为空'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    const isValidateKey = (rule, value, callback) => {\r\n      if (value === undefined || value.length < 0) {\r\n        callback(new Error('菜单Key不能为空'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      columns: [\r\n        {\r\n          text: '菜单名',\r\n          value: 'name',\r\n          width: 200\r\n        },\r\n        {\r\n          text: '菜单类型',\r\n          value: 'type'\r\n        },\r\n        {\r\n          text: '菜单Key',\r\n          value: 'menuKey'\r\n        },\r\n        {\r\n          text: '菜单链接',\r\n          value: 'url'\r\n        },\r\n        {\r\n          text: '状态',\r\n          value: 'status'\r\n        },\r\n        {\r\n          text: '描述',\r\n          value: 'description'\r\n        },\r\n        {\r\n          text: '操作',\r\n          value: ''\r\n        }\r\n      ],\r\n      menus: [],\r\n      operateFunc: [\r\n        {\r\n          name: '编辑',\r\n          operate: this.modify\r\n        }\r\n      ],\r\n      dialogStatus: '',\r\n      dialogFormVisible: false,\r\n      temp: {\r\n        id: undefined,\r\n        name: undefined,\r\n        url: undefined,\r\n        description: undefined,\r\n        disable: true\r\n      },\r\n      textMap: {\r\n        create: '新建',\r\n        modify: '修改'\r\n      },\r\n      rules: {\r\n        name: [{ required: true, trigger: 'blur', validator: isValidateName }],\r\n        menuKey: [{ required: true, trigger: 'blur', validator: isValidateKey }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  computed: {\r\n    ...mapGetters({ userMenus: 'menus' })\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      getMenuList().then(reponse => {\r\n        this.changeMenu(reponse.dataList)\r\n        this.menus = reponse.dataList\r\n        if (this.userMenus.indexOf('account.menu.modify') === -1) {\r\n          // 移除权限操作\r\n          this.operateFunc = []\r\n        }\r\n      })\r\n    },\r\n    modify(row) {\r\n      this.temp.id = row.id\r\n      this.temp.name = row.name\r\n      this.temp.url = row.url\r\n      this.temp.disable = row.deleted === 0\r\n      this.temp.description = row.description\r\n      this.dialogStatus = 'modify'\r\n      this.dialogFormVisible = true\r\n    },\r\n    saveModifyMenu() {\r\n      this.$refs.dataForm.validate(valid => {\r\n        if (valid) {\r\n          this.temp.deleted = this.temp.disable === false\r\n          modifyMenu(this.temp).then(response => {\r\n            this.$message({\r\n              message: '修改成功',\r\n              type: 'success'\r\n            })\r\n            this.dialogFormVisible = false\r\n            this.fetchData()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    changeState(row) {},\r\n    changeMenu(menus) {\r\n      Array.from(menus).forEach(menu => {\r\n        menu.type = menu.type === 3 ? '按钮' : '菜单'\r\n        menu.status = menu.deleted === 0 ? '启用' : '禁用'\r\n        if (Array.isArray(menu.children)) {\r\n          this.changeMenu(menu.children)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/account/menu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('tree-table',{attrs:{\"data\":_vm.menus,\"columns\":_vm.columns,\"operateFunc\":_vm.operateFunc,\"border\":\"\"}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"center\":\"\",\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"width\":\"80%\",\"margin-left\":\"8%\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.temp,\"label-position\":\"left\",\"label-width\":\"90px\"}},[_c('el-form-item',{attrs:{\"label\":\"菜单名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.temp.name),callback:function ($$v) {_vm.$set(_vm.temp, \"name\", $$v)},expression:\"temp.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"菜单链接\"}},[_c('el-input',{model:{value:(_vm.temp.url),callback:function ($$v) {_vm.$set(_vm.temp, \"url\", $$v)},expression:\"temp.url\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"菜单描述\"}},[_c('el-input',{model:{value:(_vm.temp.description),callback:function ($$v) {_vm.$set(_vm.temp, \"description\", $$v)},expression:\"temp.description\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"菜单状态\"}},[_c('el-switch',{attrs:{\"active-text\":\"启用\",\"inactive-text\":\"禁用\"},model:{value:(_vm.temp.disable),callback:function ($$v) {_vm.$set(_vm.temp, \"disable\", $$v)},expression:\"temp.disable\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.dialogStatus=='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.savaAddMenu()}}},[_vm._v(\"添加\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.saveModifyMenu()}}},[_vm._v(\"更新\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09af800b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/account/menu.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09af800b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/account/menu.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/array/concat\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/concat.js\n// module id = dXij\n// module chunks = 1"],"sourceRoot":""}